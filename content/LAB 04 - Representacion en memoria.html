
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LAB 04 - Representación en memoria &#8212; Introducción a Algoritmos y Estructuras de Datos</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="C. Listas y árboles" href="M03.html" />
    <link rel="prev" title="LAB 03 Matrices dispersas" href="LAB%2003%20-%20Matrices%20dispersas.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MBFEZ3PF64"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-MBFEZ3PF64');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Introducción a Algoritmos y Estructuras de Datos</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Course info
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="M00.html">
   Información UDEA 2023.1
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="M01.html">
   A. Introducción
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2000%20-%20Introduccion%20Python.html">
     00 - Intro Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2001%20-%20Tipos%20abstractos%20de%20datos.html">
     01 - Tipos abstractos de datos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2000%20-%20Practica-Ejemplo.html">
     LAB 00 - Práctica de ejemplo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2001%20-%20Tipos%20abstractos%20de%20datos.html">
     LAB 01 - Tipos abstractos de datos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="M02.html">
   B. Estructuras y memoria
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2002%20-%20Polinomios.html">
     02 - Polinomios
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2003%20-%20Matrices%20dispersas.html">
     03 - Matrices dispersas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2004%20-%20Representacion%20en%20memoria.html">
     04 - Representación en memoria
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2002%20-%20Polinomios.html">
     LAB 02 - Polinomios
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2003%20-%20Matrices%20dispersas.html">
     LAB 03 - Matrices dispersas
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     LAB 04 - Representación en memoria
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="M03.html">
   C. Listas y árboles
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2005%20-%20Listas%20generalizadas.html">
     05 - Listas generalizadas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2006%20-%20Arboles.html">
     06 - Arboles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2007%20-%20Arboles%20de%20busqueda.html">
     07 - Arboles de búsqueda
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2005%20-%20Listas%20generalizadas.html">
     LAB 05 - Listas generalizadas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2006%20-%20Arboles.html">
     LAB 06 - Árboles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2007%20-%20Arboles%20de%20busqueda.html">
     LAB 07 - Arboles de búsqueda
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="M04.html">
   D. Grafos
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2008%20-%20Grafos.html">
     08 - Grafos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2009%20-%20Recorridos%20sobre%20grafos.html">
     09 - Recorridos sobre grafos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2010%20-%20Algoritmos%20sobre%20grafos.html">
     10 - Algoritmos sobre grafos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2008%20-%20Grafos.html">
     LAB 08 - Grafos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2009%20-%20Recorridos%20sobre%20grafos.html">
     LAB 09 - Recorridos sobre grafos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2010%20-%20Algoritmos%20sobre%20grafos.html">
     LAB 10 - Algoritmos sobre grafos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="M05.html">
   E. Optimización estocástica
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2011%20-%20Algoritmos%20Geneticos.html">
     11 - Algoritmos genéticos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NOTAS%2012%20-%20Simulated%20Annealing.html">
     12 - Simulated annealing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LAB%2011%20-%20Algoritmos%20Gen%C3%A9ticos.html">
     LAB 11 - Algoritmos genéticos
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/content/LAB 04 - Representacion en memoria.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/rramosp/introalgs.v1/blob/main/content/LAB 04 - Representacion en memoria.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-1">
   Ejercicio 1
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#registra-tu-solucion-en-linea">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-2">
   Ejercicio 2
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-3">
   Ejercicio 3
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-4">
   Ejercicio 4
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>LAB 04 - Representación en memoria</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-1">
   Ejercicio 1
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#registra-tu-solucion-en-linea">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-2">
   Ejercicio 2
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-3">
   Ejercicio 3
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio-4">
   Ejercicio 4
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     registra tu solución en línea
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!wget --no-cache -O init.py -q https://raw.githubusercontent.com/rramosp/20192.L3/master/init.py
import init; init.init(force_download=False); init.get_weblink()
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import init
from local.lib.rlxmoocapi import submit, session
import inspect
student = session.Session(init.endpoint).login( course_id=init.course_id, 
                                                session_id=&quot;UDEA&quot;, 
                                                lab_id=&quot;lab_04&quot; )
</pre></div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="lab-04-representacion-en-memoria">
<h1>LAB 04 - Representación en memoria<a class="headerlink" href="#lab-04-representacion-en-memoria" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ejercicio-1">
<h2>Ejercicio 1<a class="headerlink" href="#ejercicio-1" title="Permalink to this headline">¶</a></h2>
<p>Una matriz diagonal 2D es aquella en la que cualquier elemento <span class="math notranslate nohighlight">\(m_{ij}=0 \iff i \ne j\)</span>.  Trataremos solamente con matrices cuadradas, es decir <span class="math notranslate nohighlight">\(\in \mathbb{R}^{n \times n}\)</span>.</p>
<p>Si asumimos que solo tenemos matrices cuadradas, podemos <strong>almacenar solo la diagonal</strong>.</p>
<p>Completa la siguiente función para que, dado un array <code class="docutils literal notranslate"><span class="pre">numpy</span></code> de entrada:</p>
<ul class="simple">
<li><p>Lance un <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> si no es cuadrado o no es diagonal</p></li>
<li><p>Devuelva un vector con las posiciones de almacenamiento de su diagonal, asumiendo una posición inicial y un tamaño de dato.</p></li>
</ul>
<p>Por ejemplo, para esta entrada:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[ 1  0  0]
 [ 0  3  0]
 [ 0  0 -3]]
</pre></div>
</div>
<p>con <code class="docutils literal notranslate"><span class="pre">init_pos=19</span></code> y <code class="docutils literal notranslate"><span class="pre">size=5</span></code>, la salida debería de ser:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[19, 24, 29]
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def diag_store(m, init_pos=0, size=4):
    import numpy as np
    assert &lt;... TU CODIGO AQUI ...&gt;
    return &lt;... TU CODIGO AQUI ...&gt;
</pre></div>
</div>
</div>
</div>
<p>comprueba manualmente tu código</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np

a = np.array([[1,0,0], [0,3,0], [0,0,-3]])
print(a)
diag_store(a, init_pos=19, size=5)
</pre></div>
</div>
</div>
</div>
<div class="section" id="registra-tu-solucion-en-linea">
<h3>registra tu solución en línea<a class="headerlink" href="#registra-tu-solucion-en-linea" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>student.submit_task(globals(), task_id=&quot;task_01&quot;);
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="ejercicio-2">
<h2>Ejercicio 2<a class="headerlink" href="#ejercicio-2" title="Permalink to this headline">¶</a></h2>
<p>Una matriz triangular 2D es aquella en la que cualquier elemento <span class="math notranslate nohighlight">\(m_{ij}=0 \iff i &gt; j\)</span>, en donde <span class="math notranslate nohighlight">\(i\)</span> son las filas y <span class="math notranslate nohighlight">\(j\)</span> las columnas. Si asumimos que solamente trataremos con matrices cuadradas, es decir <span class="math notranslate nohighlight">\(\in \mathbb{R}^{n \times n}\)</span>.</p>
<p>Completa la siguiente función para que, dado un array <code class="docutils literal notranslate"><span class="pre">numpy</span></code> de entrada:</p>
<ul class="simple">
<li><p>Lance un <code class="docutils literal notranslate"><span class="pre">AssertError</span></code> si no es cuadrado o no es triangular superior</p></li>
<li><p>Lance un <code class="docutils literal notranslate"><span class="pre">AssertError</span></code> si el parámetro <code class="docutils literal notranslate"><span class="pre">orientation</span></code> es distinto de <code class="docutils literal notranslate"><span class="pre">columns</span></code> o <code class="docutils literal notranslate"><span class="pre">rows</span></code></p></li>
<li><p>Devuelva un vector con las posiciones de almacenamiento de sus elementos, asumiendo una posición inicial y un tamaño de dato.</p></li>
<li><p>Tenga en cuenta el parámetro <code class="docutils literal notranslate"><span class="pre">orientation</span></code> q</p></li>
</ul>
<p>Por ejemplo, para esta entrada:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[ 1  0  0]
 [ 0  3  0]
 [ 0  0 -3]]
</pre></div>
</div>
<p>con <code class="docutils literal notranslate"><span class="pre">init_pos=19</span></code> y <code class="docutils literal notranslate"><span class="pre">size=5</span></code>, la salida debería de ser:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[19 24 29 34 39 44]
</pre></div>
</div>
<p>observa que dada una matriz triangular superior <span class="math notranslate nohighlight">\(\in \mathbb{R}^{n\times n }\)</span>, el número de elementos que hay que almacenar viene dado por:</p>
<div class="math notranslate nohighlight">
\[\frac{n^2 - n}{2} + n\]</div>
<p>ya que</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(n^2\)</span> es el número total de elementos de la matriz</p></li>
<li><p><span class="math notranslate nohighlight">\(n^2-n\)</span> es el número de elementos excluyendo la diagonal</p></li>
<li><p><span class="math notranslate nohighlight">\(\frac{n^2-n}{2}\)</span> es el número de elementos de un triángulo (superior o inferion) excluyendo la diagonal</p></li>
<li><p><span class="math notranslate nohighlight">\(\frac{n^2 - n}{2} + n\)</span> es el número de elementos de un triángulo incluyendo la diagonal</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def triang_store(m, init_pos=0, size=4, orientation=&quot;columns&quot;):
    import numpy as np
    assert &lt;... TU CODIGO AQUI ...&gt;
    return &lt;... TU CODIGO AQUI ...&gt;
</pre></div>
</div>
</div>
</div>
<p>comprueba manualmente tu código</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np
a = np.array([[1,0,3], [0,3,1], [0,0,-3]])
print(a)
print(triang_store(a, init_pos=19, size=5))
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h3>registra tu solución en línea<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>student.submit_task(globals(), task_id=&quot;task_02&quot;);
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="ejercicio-3">
<h2>Ejercicio 3<a class="headerlink" href="#ejercicio-3" title="Permalink to this headline">¶</a></h2>
<p>Dado:</p>
<ul class="simple">
<li><p>una especificación de dimensiones de un array <span class="math notranslate nohighlight">\((d_0, d_1, ... d_{n-1})\)</span> de <span class="math notranslate nohighlight">\(n\)</span> dimensiones</p></li>
<li><p>una especificación de orden de almacenamiento <span class="math notranslate nohighlight">\(\mathbb{P}[0,1,..,n-1]\)</span> (una permutación de los elementos del <span class="math notranslate nohighlight">\(0\)</span> a <span class="math notranslate nohighlight">\(n-1\)</span>)</p></li>
<li><p>una dirección de memoria de base (de inicio)</p></li>
<li><p>un tamaño de dato</p></li>
</ul>
<p>obtén la matriz de posiciones de memoria de cualquier array de tales dimensiones. <strong>Tu salida ha de ser un array de <code class="docutils literal notranslate"><span class="pre">numpy</span></code></strong></p>
<p>Por ejemplo, para</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dims = [2,2,2]
order = [0,1,2]
</pre></div>
</div>
<p>la salida ha de ser</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[[ 0 16]
  [ 8 24]]

 [[ 4 20]
  [12 28]]]
</pre></div>
</div>
<p>y para</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dims = [2,3,4]
order = [2,1,0]
</pre></div>
</div>
<p>la salida ha de ser</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[[ 0  4  8 12]
  [16 20 24 28]
  [32 36 40 44]]

 [[48 52 56 60]
  [64 68 72 76]
  [80 84 88 92]]]
</pre></div>
</div>
<p><strong>Sugerencia</strong>: usa la siguiente estrategia de implementación</p>
<ol class="simple">
<li><p>Genera todas las posibles coordenadas de la matriz correspondiente a <code class="docutils literal notranslate"><span class="pre">dims</span></code>. Con esto deberías de generar un array de dimensiones <span class="math notranslate nohighlight">\((\prod d_i)\times n\)</span></p></li>
<li><p>Usa <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.sort_values.html"><code class="docutils literal notranslate"><span class="pre">pandas.sort_values</span></code></a> para ordenar todas las posibles coordenadas según <code class="docutils literal notranslate"><span class="pre">order</span></code> (usa el parámetro <code class="docutils literal notranslate"><span class="pre">by</span></code>)</p></li>
<li><p>El dataframe generado anteriormente contiene en orden en el que se almacenarían en memoria los elementos de la matriz original según la especificación en <code class="docutils literal notranslate"><span class="pre">dims</span></code> y en  <code class="docutils literal notranslate"><span class="pre">order</span></code></p></li>
<li><p>Genera una matriz de ceroz de tamaños <code class="docutils literal notranslate"><span class="pre">dims</span></code> y recorre secuencialmente el dataframe anterior actualizando cada coordenada.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def get_storage_positions(dims, order, size, init_pos=0):
    import pandas as pd
    import numpy as np
    import itertools  
    &lt;... TU CODIGO AQUI ...&gt;
    return &lt;... TU CODIGO AQUI ...&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(get_storage_positions(dims = [3,2], order = [0,1], size=4))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(get_storage_positions(dims = [2,3,4], order = [0,1,2], size=4))
print(&quot;--&quot;)
print(get_storage_positions(dims = [2,3,4], order = [2,1,0], size=4))
print(&quot;--&quot;)
print(get_storage_positions(dims = [2,2,2], order = [0,1,2], size=4))
print(&quot;--&quot;)
print(get_storage_positions(dims = [2,2,2], order = [2,1,0], size=4))
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h3>registra tu solución en línea<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>student.submit_task(globals(), task_id=&quot;task_03&quot;);
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="ejercicio-4">
<h2>Ejercicio 4<a class="headerlink" href="#ejercicio-4" title="Permalink to this headline">¶</a></h2>
<p>Dado un array de posiciones en memoria de <span class="math notranslate nohighlight">\(n\)</span> dimensiones queremos descubrir qué ordenación tiene en memoria. Este ejercicio es el inverso del anterior.</p>
<p>Por ejemplo, dada la siguiente matriz de entrada</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[[ 0  4  8 12]
  [16 20 24 28]
  [32 36 40 44]]

 [[48 52 56 60]
  [64 68 72 76]
  [80 84 88 92]]]
</pre></div>
</div>
<p>tu función ha de devolver la tupla</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[2,1,0]
</pre></div>
</div>
<p>o con la siguiente matriz:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[[ 0  4  8 12]
  [32 36 40 44]
  [64 68 72 76]]

 [[16 20 24 28]
  [48 52 56 60]
  [80 84 88 92]]]
</pre></div>
</div>
<p>ha de devolver la tupla</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[2,0,1]
</pre></div>
</div>
<p>Sugerencia de implementación: para resolver este problema tienes que fijarte en el incremento en cada eje. Por ejemplo, fíjate en los dos primeros elementos de cada eje en la última matriz. Observa como el primer eje es el 2, el segundo el 0 y el último el 1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np
a = [2,4]
np.argsort(a)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>a = [10,4,7,-1,20]
print(np.array(a))
print(np.r_[a])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(np.argsort(a))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>a = np.random.randint(10, size=(2,5,4))
a
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>dims = len(a.shape)
my_slices = tuple([slice(0,1,1)]*dims)
print(my_slices)
a[my_slices].flatten()
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np
r = np.array([[[ 0,  4,  8, 12],
        [32, 36, 40, 44],
        [64, 68, 72, 76]],

       [[16, 20, 24, 28],
        [48, 52, 56, 60],
        [80, 84, 88, 92]]])

print(r[:2,0,0])
print(r[0,:2,0])
print(r[0,0,:2])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>ndims = 3
r = np.random.randint(100, size=[2]*ndims)
print(r)
mis_slices = tuple([slice(0,2,None)]+[0]*(ndims-1))
print(&quot;--&quot;)
print(r[mis_slices])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>r[:2,0,0]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np

a = np.r_[10,4,2,20,1]
np.sort(a)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.argsort(a)
</pre></div>
</div>
</div>
</div>
<p>por tanto te sugiero una implementación en la que:</p>
<ol class="simple">
<li><p>Hagas un bucle por el número de dimensiones</p></li>
<li><p>Para cada dimensión generes una lista de <code class="docutils literal notranslate"><span class="pre">slices</span></code> equivalentes a la notación de indexado anterior</p></li>
<li><p>Obtengas los dos primeros elementos de cada eje</p></li>
<li><p>Ordenes los ejes por la diferencia entre esos dos elementos</p></li>
</ol>
<p>quizá la función <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.argsort.html"><code class="docutils literal notranslate"><span class="pre">np.argsort</span></code></a> pueda serte de ayuda</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def get_storage_order(r):
    import numpy as np
    
    return &lt;... TU CODIGO AQUI ...&gt;
</pre></div>
</div>
</div>
</div>
<p>comprueba manualmente tu código</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>r = np.array([[[ 0,  4,  8, 12],
        [32, 36, 40, 44],
        [64, 68, 72, 76]],

       [[16, 20, 24, 28],
        [48, 52, 56, 60],
        [80, 84, 88, 92]]])

get_storage_order(r)
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h3>registra tu solución en línea<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>student.submit_task(globals(), task_id=&quot;task_04&quot;);
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="LAB%2003%20-%20Matrices%20dispersas.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">LAB 03 Matrices dispersas</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="M03.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">C. Listas y árboles</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Diana Margot López, Raúl Ramos / Universidad de Antioquia<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>